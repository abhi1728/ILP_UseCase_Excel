<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sign Up</title>

  <!-- Font Awesome (one version) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
/>

  <style>
    .password-wrapper { position: relative; }
    .password-wrapper input { width: 100%; padding-right: 40px; }
    .password-wrapper .toggle {
      position: absolute; right: 12px; top: 50%;
      transform: translateY(-50%); cursor: pointer; color: #2575fc;
    }

    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      display: flex; justify-content: center; align-items: center;
      height: 100vh; margin: 0; background: #ffffff;
    }
    .main-wrapper {
      display: flex; width: 100%; height: 100%;
      background: rgba(255,255,255,0.1); overflow: hidden;
    }
    .left-section {
      flex: 1; background: rgba(255,255,255,0.15); color: rgb(36,95,255);
      display: flex; flex-direction: column; justify-content: center; align-items: center;
      padding: 40px; text-align: center; position: relative;
    }
    .left-section h1 { font-size: 28px; margin-bottom: 15px; }
    .left-section p { font-size: 16px; line-height: 1.5; max-width: 450px; }
    .right-section { flex: 1; background: #fff; display: flex; justify-content: center; align-items: center; }
    .container { background: #fff; padding: 35px 28px; border-radius: 14px; width: 360px; animation: fadeIn .6s; }
    h2 { text-align: center; margin-bottom: 22px; color: #222; font-weight: 600; }
    input {
      width: 100%; padding: 12px 15px; margin: 12px 0; border: 1px solid #ddd; border-radius: 8px;
      font-size: 15px; transition: all .3s ease; box-sizing: border-box;
    }
    input:focus { border-color: #2575fc; outline: none; box-shadow: 0 0 8px rgba(37,117,252,.4); }
    button {
      width: 100%; padding: 13px; margin-top: 12px; border: none; border-radius: 8px;
      background: #2575fc; color: #fff; font-size: 16px; cursor: pointer; font-weight: 500;
      transition: background .3s ease, transform .15s ease;
    }
    button:hover { background: #1a5ed9; transform: translateY(-2px); }
    #message { margin-top: 12px; text-align: center; font-size: 14px; color: red; }
    #loader { display: none; text-align: center; margin-top: 12px; color: #2575fc; font-size: 14px; }
    p {
  text-align: center;
  margin-top: 18px;
  font-size: 14px;
  color: #444;
}

p a {
  color: #2575fc;
  text-decoration: none;
  font-weight: bold;
}

p a:hover {
  text-decoration: underline;
}

    @keyframes fadeIn { from {opacity:0; transform: translateY(-20px);} to {opacity:1; transform: translateY(0);} }
  </style>

  <!-- Firebase v8 for auth.js -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="auth.js"></script>
</head>

<body>
  <div id="pageLoader" style="
    display:none; position:fixed; inset:0; background:rgba(255,255,255,.8);
    display:flex; justify-content:center; align-items:center; z-index:9999; font-size:22px; color:#2575fc;">
    <i class="fa-solid fa-spinner fa-spin"></i> Loading...
  </div>

  <div class="main-wrapper">
    <div class="left-section">
        <img src="assets/experion_logo.png"style="width: 7%px; height:7%; position: absolute; left: 40px;top: 50px;">
      <h1>Welcome to</h1>
      <p style="font-size: 35px; font-weight: bold;color: #4b4848;">Trainer Assessment Tool</p>
      <p>Login to continue your journey with us and access exclusive features.</p>
    </div>

    <div class="right-section">
      <div class="container">
        <h2>Create Account</h2>

        <input type="text" id="name" placeholder="Full Name" required>
        <input type="text" id="department" placeholder="Department" required>
        <input type="email" id="email" placeholder="Email" required>

        <div class="password-wrapper">
          <input type="password" id="password" placeholder="Password" required>
          <i id="togglePass1" class="fa-solid fa-eye toggle" title="Show/Hide password"></i>
        </div>

        <div class="password-wrapper">
          <input type="password" id="confirmPassword" placeholder="Confirm Password" required>
          <i id="togglePass2" class="fa-solid fa-eye toggle" title="Show/Hide password"></i>
        </div>

        <button onclick="signup()">Sign Up</button>
        <div id="loader"><i class="fa-solid fa-spinner fa-spin"></i> Creating account...</div>
        <div id="message"></div>
        <p>Already have an account? <a href="login.html" onclick="goToLogin()">Login</a></p>
      </div>
    </div>
  </div>

  <script>
    // No auth redirect guard here â€” avoids bouncing back to login
    window.addEventListener("load", () => {
      const overlay = document.getElementById("pageLoader");
      if (overlay) overlay.style.display = "none";
    });

    function goToLogin() {
      const overlay = document.getElementById("pageLoader");
      overlay.style.display = "flex";
      setTimeout(() => window.location.href = "login.html", 600);
    }

    // Eye toggles
    document.addEventListener("DOMContentLoaded", () => {
      const pairs = [
        { icon: "togglePass1", input: "password" },
        { icon: "togglePass2", input: "confirmPassword" }
      ];
      pairs.forEach(({icon, input}) => {
        const i = document.getElementById(icon);
        const field = document.getElementById(input);
        if (!i || !field) return;
        i.addEventListener("click", () => {
          const show = field.type === "password";
          field.type = show ? "text" : "password";
          i.classList.toggle("fa-eye", !show);
          i.classList.toggle("fa-eye-slash", show);
        });
      });
    });
  </script>
</body>
</html>
